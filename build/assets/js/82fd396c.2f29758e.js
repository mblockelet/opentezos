"use strict";(self.webpackChunkopentezos=self.webpackChunkopentezos||[]).push([[4847],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var l=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,l,a=function(e,t){if(null==e)return{};var n,l,a={},o=Object.keys(e);for(l=0;l<o.length;l++)n=o[l],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(l=0;l<o.length;l++)n=o[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var i=l.createContext({}),u=function(e){var t=l.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},c=function(e){var t=u(e.components);return l.createElement(i.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return l.createElement(l.Fragment,{},t)}},d=l.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=u(n),m=a,h=d["".concat(i,".").concat(m)]||d[m]||p[m]||o;return n?l.createElement(h,r(r({ref:t},c),{},{components:n})):l.createElement(h,r({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,r=new Array(o);r[0]=d;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s.mdxType="string"==typeof e?e:a,r[1]=s;for(var u=2;u<o;u++)r[u]=n[u];return l.createElement.apply(null,r)}return l.createElement.apply(null,n)}d.displayName="MDXCreateElement"},2536:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return i},metadata:function(){return u},toc:function(){return c},default:function(){return d}});var l=n(7462),a=n(3366),o=(n(7294),n(3905)),r=["components"],s={id:"installation",title:"Installation",authors:"Maxime Sallerin and Thomas Zoughebi"},i=void 0,u={unversionedId:"deploy-a-node/installation",id:"deploy-a-node/installation",title:"Installation",description:"In this chapter, we will see how to install Tezos from the source with Unbuntu and macOS.",source:"@site/docs/deploy-a-node/installation.md",sourceDirName:"deploy-a-node",slug:"/deploy-a-node/installation",permalink:"/opentezos/deploy-a-node/installation",editUrl:"https://gitlab.com/tezos-paris-hub/opentezos/-/blob/main/docs/deploy-a-node/installation.md",tags:[],version:"current",lastUpdatedBy:"Fo kossi Dagbegnikin",lastUpdatedAt:1638804231,formattedLastUpdatedAt:"12/6/2021",frontMatter:{id:"installation",title:"Installation",authors:"Maxime Sallerin and Thomas Zoughebi"},sidebar:"docs",previous:{title:"Introduction",permalink:"/opentezos/deploy-a-node"},next:{title:"Set-up a node",permalink:"/opentezos/deploy-a-node/set-up-a-node"}},c=[{value:"Build from source (Ubuntu)",id:"build-from-source-ubuntu",children:[{value:"Fisrt install the libraries that Tezos is dependent on",id:"fisrt-install-the-libraries-that-tezos-is-dependent-on",children:[],level:3},{value:"Install Rust",id:"install-rust",children:[],level:3},{value:"Install Zcash Parameters",id:"install-zcash-parameters",children:[],level:3},{value:"Install OPAM",id:"install-opam",children:[],level:3},{value:"Get sources",id:"get-sources",children:[],level:3},{value:"Install Tezos dependencies",id:"install-tezos-dependencies",children:[],level:3},{value:"Compile sources",id:"compile-sources",children:[],level:3}],level:2},{value:"Build from source (MacOs)",id:"build-from-source-macos",children:[{value:"Install Homebrew",id:"install-homebrew",children:[],level:3},{value:"Install the libraries that Tezos is dependent on",id:"install-the-libraries-that-tezos-is-dependent-on",children:[],level:3},{value:"Install Rust",id:"install-rust-1",children:[],level:3},{value:"Get sources",id:"get-sources-1",children:[],level:3},{value:"Install the OPAM",id:"install-the-opam",children:[],level:3},{value:"Install Tezos dependencies",id:"install-tezos-dependencies-1",children:[],level:3},{value:"Compile sources",id:"compile-sources-1",children:[],level:3},{value:"Other installations methods",id:"other-installations-methods",children:[],level:3}],level:2},{value:"References",id:"references",children:[],level:2}],p={toc:c};function d(e){var t=e.components,n=(0,a.Z)(e,r);return(0,o.kt)("wrapper",(0,l.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"In this chapter, we will see how to install Tezos from the source with Unbuntu and macOS."),(0,o.kt)("h2",{id:"build-from-source-ubuntu"},"Build from source (Ubuntu)"),(0,o.kt)("h3",{id:"fisrt-install-the-libraries-that-tezos-is-dependent-on"},"Fisrt install the libraries that Tezos is dependent on"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"sudo apt update && sudo apt install -y rsync git m4 build-essential patch unzip bubblewrap wget pkg-config libgmp-dev libev-dev libhidapi-dev\n")),(0,o.kt)("p",null,"Type your password when prompted.\n",(0,o.kt)("inlineCode",{parentName:"p"},"[sudo] password for username:")),(0,o.kt)("h3",{id:"install-rust"},"Install Rust"),(0,o.kt)("p",null,"Compiling Tezos requires, the Rust compiler and the Cargo package manager, to be installed."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"cd $HOME\nwget https://sh.rustup.rs/rustup-init.sh\nchmod +x rustup-init.sh\n./rustup-init.sh --profile minimal --default-toolchain 1.44.0 -y\nsource $HOME/.cargo/env\n")),(0,o.kt)("h3",{id:"install-zcash-parameters"},"Install Zcash Parameters"),(0,o.kt)("p",null,"Tezos binaries require the Zcash parameter files to run."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"wget https://raw.githubusercontent.com/zcash/zcash/master/zcutil/fetch-params.sh\nchmod +x fetch-params.sh\n./fetch-params.sh\n")),(0,o.kt)("h3",{id:"install-opam"},"Install OPAM"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"wget https://github.com/ocaml/opam/releases/download/2.0.3/opam-2.0.3-x86_64-linux\nsudo cp opam-2.0.3-x86_64-linux /usr/local/bin/opam\nsudo chmod a+x /usr/local/bin/opam\n")),(0,o.kt)("h3",{id:"get-sources"},"Get sources"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"git clone https://gitlab.com/tezos/tezos.git\ncd tezos\ngit checkout latest-release\n")),(0,o.kt)("h3",{id:"install-tezos-dependencies"},"Install Tezos dependencies"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"opam init --bare\nmake build-deps\n")),(0,o.kt)("p",null,"Answers the prompts with 'N' then 'y'."),(0,o.kt)("p",null,"You may also be prompted for your ",(0,o.kt)("inlineCode",{parentName:"p"},"sudo")," password."),(0,o.kt)("p",null,'You may encounter a "switch" error, but you can ignore it. You may encounter failures in the processes of the ',(0,o.kt)("inlineCode",{parentName:"p"},"make build-deps")," command. In that case, just re-type the command to re-initiate."),(0,o.kt)("h3",{id:"compile-sources"},"Compile sources"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"eval $(opam env)\nmake\n")),(0,o.kt)("p",null,"You can quickly check the correct installations of some files:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"./tezos-client --version\n./tezos-admin-client --version\n")),(0,o.kt)("p",null,"The commands should return appropriate versions."),(0,o.kt)("h2",{id:"build-from-source-macos"},"Build from source (MacOs)"),(0,o.kt)("h3",{id:"install-homebrew"},"Install Homebrew"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},'/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"\n')),(0,o.kt)("h3",{id:"install-the-libraries-that-tezos-is-dependent-on"},"Install the libraries that Tezos is dependent on"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"brew install hidapi libev\n")),(0,o.kt)("p",null,"On Catalina you may see the following error, if you have xcode installed:\n",(0,o.kt)("inlineCode",{parentName:"p"},'\u201cxcrun: error: invalid active developer path (/Library/Developer/CommandLineTools), missing xcrun at: /Library/Developer/CommandLineTools/usr/bin/xcrun"')),(0,o.kt)("p",null,"If this is the case, then run the following command to update your xcode, then install and restart the terminal."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"xcode-select --install\n")),(0,o.kt)("h3",{id:"install-rust-1"},"Install Rust"),(0,o.kt)("p",null,"Compiling Tezos requires the Rust compiler and the Cargo package manager to be installed."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"curl https://sh.rustup.rs -sSf | sh\nsource $HOME/.cargo/env\n")),(0,o.kt)("h3",{id:"get-sources-1"},"Get sources"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"git clone https://gitlab.com/tezos/tezos.git\ncd tezos\ngit checkout latest-release\n")),(0,o.kt)("h3",{id:"install-the-opam"},"Install the OPAM"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"brew install gpatch\nbrew install opam\nopam init\nopam update\neval $(opam env)\n")),(0,o.kt)("h3",{id:"install-tezos-dependencies-1"},"Install Tezos dependencies"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"cd tezos\nmake build-deps \n")),(0,o.kt)("p",null,'You may encounter a "switch" error: You can ignore it. You may encounter failures in the processes of the ',(0,o.kt)("inlineCode",{parentName:"p"},"make build-deps")," command. In that case, just re-type the command to re-initiate."),(0,o.kt)("h3",{id:"compile-sources-1"},"Compile sources"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"eval $(opam env)\nmake\n")),(0,o.kt)("p",null,"You can quickly check the correct installations of some files:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"./tezos-client --version\n./tezos-admin-client --version\n")),(0,o.kt)("h3",{id:"other-installations-methods"},"Other installations methods"),(0,o.kt)("p",null,"To have a pre-built binary distributions for some popular Linux distros refer to "),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://tezos.gitlab.io/introduction/howtoget.html#setting-up-the-development-environment-from-scratch"},"https://tezos.gitlab.io/introduction/howtoget.html#setting-up-the-development-environment-from-scratch")),(0,o.kt)("p",null,"To use a Docker installation refer to"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://tezos.gitlab.io/introduction/howtoget.html#using-docker-images"},"https://tezos.gitlab.io/introduction/howtoget.html#using-docker-images")),(0,o.kt)("p",null,"To easily setup a node and a baker refer to "),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/serokell/tezos-packaging/blob/master/docs/baking.md"},"https://github.com/serokell/tezos-packaging/blob/master/docs/baking.md")),(0,o.kt)("h2",{id:"references"},"References"),(0,o.kt)("p",null,"[1]"," ",(0,o.kt)("a",{parentName:"p",href:"https://tezos.gitlab.io/introduction/howtoget.html#setting-up-the-development-environment-from-scratch"},"https://tezos.gitlab.io/introduction/howtoget.html#setting-up-the-development-environment-from-scratch")),(0,o.kt)("p",null,"[2]"," ",(0,o.kt)("a",{parentName:"p",href:"https://www.coincashew.com/coins/overview-xtz/guide-how-to-setup-a-baker/install-a-tezos-node"},"https://www.coincashew.com/coins/overview-xtz/guide-how-to-setup-a-baker/install-a-tezos-node")),(0,o.kt)("p",null,"[3]"," ",(0,o.kt)("a",{parentName:"p",href:"https://tezbaker-io.medium.com/tezos-mainnet-setting-up-home-baking-on-a-mac-c7730a68c41d"},"https://tezbaker-io.medium.com/tezos-mainnet-setting-up-home-baking-on-a-mac-c7730a68c41d")))}d.isMDXComponent=!0}}]);