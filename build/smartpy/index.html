<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.13">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"><title data-react-helmet="true">Introduction | OpenTezos</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://opentezos.com/smartpy"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Introduction | OpenTezos"><meta data-react-helmet="true" name="description" content="This module aims to teach developers to write smart contracts with SmartPy. It will take the form of a course, illustrated through an example of a smart contract, to help the developer acquire the essentials to write, test, and analyze his smart contract."><meta data-react-helmet="true" property="og:description" content="This module aims to teach developers to write smart contracts with SmartPy. It will take the form of a course, illustrated through an example of a smart contract, to help the developer acquire the essentials to write, test, and analyze his smart contract."><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://opentezos.com/smartpy"><link data-react-helmet="true" rel="alternate" href="https://opentezos.com/smartpy" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://opentezos.com/smartpy" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.5fe771a9.css">
<link rel="preload" href="/assets/js/runtime~main.67e61283.js" as="script">
<link rel="preload" href="/assets/js/main.af038137.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="OpenTezos" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/logo-dark.svg" alt="OpenTezos" class="themedImage_1VuW themedImage--dark_hz6m"></div></a></div><div class="navbar__items navbar__items--right"><a href="https://gitlab.com/tezos-paris-hub/opentezos/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Gitlab<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE" style="margin-left:2px">üåô</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE" style="margin-left:1px">‚òÄÔ∏è</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/">Welcome</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/blockchain-basics">Blockchain Basics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/tezos-basics">Tezos Basics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/deploy-a-node">Deploy a node</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/explorer">How to use an Explorer</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/archetype">Archetype</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_2fq0" href="/smartpy">SmartPy</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/smartpy">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/smartpy/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/smartpy/write-contract-smartpy">Smart contract development with SmartPy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/smartpy/exam">Exam</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/ligo">LIGO</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/michelson">Michelson</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/dapp">Build a Dapp</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/baking">Baking</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/defi">DeFi</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/formal-verification">Formal Verification</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/private">Private Blockchain</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/contribute">How to contribute</a></div></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Introduction</h1></header><p>This module aims to teach developers to write smart contracts with <em>SmartPy</em>. It will take the form of a course, illustrated through an example of a smart contract, to help the developer acquire the essentials to write, test, and analyze his smart contract.</p><p>Tezos smart contracts are written in <a href="https://opentezos.com/michelson" target="_blank" rel="noopener noreferrer">Michelson</a>, which is a stack-based language, that forms the lowest level of a Tezos smart contract. The Michelson code is what will be deployed on the Tezos network. However, while reading or writing a Michelson code is accessible for small smart contracts, it can become pretty tedious and complicated to use, for more complex smart contracts, as:</p><ul><li>there are no variables nor functions</li><li>no syntactic sugar<blockquote><p>In computer science, <a href="https://en.wikipedia.org/wiki/Syntactic_sugar" target="_blank" rel="noopener noreferrer">syntactic sugar</a>  is a syntax within a programming language that is designed to make things easier to read or express.</p></blockquote></li><li>the Michelson code cannot be broken down into several files</li><li>stack-based languages are not commonly used when it comes to web development.</li></ul><p><strong>SmartPy offers an alternative.</strong></p><p>SmartPy is a Smart Contract library. It comes with numerous tools in the form of <a href="https://smartpy.io/" target="_blank" rel="noopener noreferrer">SmartPy.io</a>. It greatly eases the accessibility, understandability, and provability of smart contracts on Tezos. A few of the main advantages are:</p><ul><li>It is based on a popular programming language: <em>Python</em></li><li>It has a set of high-level primitives, called <em>SmartML</em>, written in <em>OCaml</em> that can be compiled into Michelson. These primitives also exist on their own and can be executed, simulated and analyzed.<blockquote><p><strong>OCaml</strong> is an industrial-level programming language, that supports functional, imperative, and object-oriented styles.
Smart contracts in SmartML are abstract syntax trees, as it is normally done in OCaml, with values, expressions, commands, etc.</p></blockquote></li><li>It has a compiler that translates <em>SmartML</em> contracts into <em>Michelson</em>.</li><li>Analytics tools are elements of SmartPy that provide some automatic procedures to analyze and prove the properties of smart contracts, such as the <a href="https://smartpy.io/ide" target="_blank" rel="noopener noreferrer">user interface</a>, which brings simulation, debugging, tests, and analytics capabilities straight to developers.</li></ul><p><img src="/assets/images/smartpy_intro-80764d6928d6d603ce4b125a5fc1ac0a.svg"></p><small class="figure">FIGURE 1: From SmartPy to Michelson, Tests, and Analytics </small><p>Once built, SmartPy contracts become <em>SmartML</em> contracts and are handled in an OCaml library called <em>SmartEngine</em>.</p><p>The Python interpreter then evaluates Python code containing SmartPy definitions.</p><p>It can then be easily analyzed or compiled into a single Michelson code file.</p><p>This Michelson file is the smart contract that will be deployed on a Tezos network.</p><blockquote><p>This design aims to apply the same methodology for other languages and potentially offer alternatives to SmartPy such as SmartJS.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_31ik" id="a-few-definitions">A few definitions<a aria-hidden="true" class="hash-link" href="#a-few-definitions" title="Direct link to heading">‚Äã</a></h2><h2 class="anchor anchorWithStickyNavbar_31ik" id="what-is-a-smart-contract">What is a smart contract?<a aria-hidden="true" class="hash-link" href="#what-is-a-smart-contract" title="Direct link to heading">‚Äã</a></h2><p>Fig. 1 helps to contextualize the role of <em>SmartPy</em> in the Tezos ecosystem.</p><p><em>SmartPy</em> is a development tool allowing for the production of smart contracts (scripts in Michelson), which can be deployed on the blockchain.</p><p><img src="/assets/images/intro_schema-93d62e83c79e9504eec5950fc06cf889.svg"></p><small class="figure">FIGURE 2: SmartPy contextualisation </small><p>A Tezos smart contract is a piece of <strong>code</strong> written in Michelson language (a low-level stack-based Turing-complete language).</p><p>It defines all <strong>entrypoints</strong> (invocable functions) of the smart contract and its <strong>storage</strong>.</p><p><img src="/assets/images/smart_contract-60cf30eef28cd3097505d46992b28ced.svg"></p><small class="figure">FIGURE 3: Smart contract</small><h3 class="anchor anchorWithStickyNavbar_31ik" id="storage">Storage<a aria-hidden="true" class="hash-link" href="#storage" title="Direct link to heading">‚Äã</a></h3><p>The storage is an allocated memory space associated with a smart contract. It is the permanent data store for the smart contract.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="entrypoints">Entrypoints<a aria-hidden="true" class="hash-link" href="#entrypoints" title="Direct link to heading">‚Äã</a></h3><p>The entrypoints are the invocable functions of a smart contract. Executing an entrypoint takes some parameters and the current-state of the storage. This action will return a new modified storage and some operations.</p><div><p></p><p>An <strong>operation</strong> can trigger a tez transfer or the entry point of another targeted contract. If the execution of an entry point produces operations then they are sent and executed in the order stated by the list of operations.</p><p></p></div><p>In the rest of the module, we will see how to install SmartPy. But mainly, we will see how to use <a href="https://smartpy.io/ide" target="_blank" rel="noopener noreferrer">the online editor</a> to directly start to code, test, and run a smart contract with SmartPy. We will illustrate this through an example of a raffle smart contract.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="references">References<a aria-hidden="true" class="hash-link" href="#references" title="Direct link to heading">‚Äã</a></h2><p>[1]<!-- --> <a href="https://smartpy.io/" target="_blank" rel="noopener noreferrer">https://smartpy.io/</a></p><p>[2]<!-- --> <a href="https://smartpy-io.medium.com/introducing-smartpy-and-smartpy-io-d4013bee7d4e" target="_blank" rel="noopener noreferrer">https://smartpy-io.medium.com/introducing-smartpy-and-smartpy-io-d4013bee7d4e</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://gitlab.com/tezos-paris-hub/opentezos/-/blob/main/docs/smartpy/introduction.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2021-07-07T08:51:45.000Z">7/7/2021</time></b> by <b>MASA</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/archetype/examples"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ <!-- -->Contract Templates</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/smartpy/installation"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Installation<!-- --> ¬ª</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#a-few-definitions" class="table-of-contents__link toc-highlight">A few definitions</a></li><li><a href="#what-is-a-smart-contract" class="table-of-contents__link toc-highlight">What is a smart contract?</a><ul><li><a href="#storage" class="table-of-contents__link toc-highlight">Storage</a></li><li><a href="#entrypoints" class="table-of-contents__link toc-highlight">Entrypoints</a></li></ul></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2022 OpenTezos.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.67e61283.js"></script>
<script src="/assets/js/main.af038137.js"></script>
</body>
</html>